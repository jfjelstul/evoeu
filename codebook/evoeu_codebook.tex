%--------------------------------------------------%
% generated by the codebookr R package
% created by Joshua C. Fjelstul, Ph.D.
%--------------------------------------------------%

\documentclass[10pt]{article}

%--------------------------------------------------%
% packages
%--------------------------------------------------%

% page layout
\usepackage{geometry}

% fonts
\usepackage[english]{babel}
\usepackage{underscore}
\usepackage{anyfontsize}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fontspec}

% graphics and tables
\usepackage{graphicx} % add figures
\usepackage{xcolor} % change font color
\usepackage{tikz} % add graphics

% paragraph spacing
\usepackage{setspace}

% hyperlinks
\usepackage{url}

% table of contents
\usepackage{tocloft}

% test alignment
\usepackage{ragged2e}

% multi-page tables
\usepackage{longtable}

% custom lists
\usepackage{enumitem}

% insert content on every page
\usepackage{atbegshi} 

% code formatting
\usepackage{tcolorbox}

%--------------------------------------------------%
% colors
%--------------------------------------------------%

% define colors
\definecolor{themecolor}{HTML}{4D9FEB}
\definecolor{background}{HTML}{EEF6FD}

% format hyperlinks
\usepackage[colorlinks=true,linkcolor=themecolor,citecolor=themecolor,urlcolor=themecolor,breaklinks=true]{hyperref}

%--------------------------------------------------%
% formatting
%--------------------------------------------------%

% configure main font
\setmainfont[Ligatures=TeX,BoldFont={Roboto Medium}]{Roboto Light}
\setmonofont[Ligatures=TeX]{Roboto Mono-Light}

% set page margins
\geometry{top = 1.5in, bottom = 1.5in, left = 1.5in, right = 1.5in}

% set paper size
\geometry{letterpaper}

% format table of contents
\renewcommand{\cftsecdotsep}{10}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsecfont}{{\small\color{black!75}\bfseries}}
\renewcommand{\cftsecpagefont}{{\small\color{black!75}\normalfont}}

% adjust spacing
\usepackage{parskip}
\parskip=10pt
\renewcommand{\baselinestretch}{1.4}

% hyphen formatting
\hyphenpenalty = 10000
\exhyphenpenalty = 10000

% prevent widow and orphan lines
\widowpenalty10000
\clubpenalty10000

%--------------------------------------------------%
% page elements
%--------------------------------------------------%

% a command to make a code box
\newtcbox{\codebox}{nobeforeafter,tcbox raise base,colback=black!5,colframe=white,coltext=black!75,boxrule=0pt,arc=3pt,boxsep=0pt,
left=4pt,right=4pt,top=3pt,bottom=3pt}

% a command to make a chip
\newtcbox{\chip}{nobeforeafter,tcbox raise base,colback=black!5,colframe=white,coltext=black!75,boxrule=0pt,arc=11pt,boxsep=0pt,
left=10pt,right=10pt,top=8pt,bottom=8pt}

% command to format code
\newcommand{\code}[1]{\codebox{{\footnotesize\texttt{#1}}}}

% command to highlight text
\newcommand{\highlight}[1]{{\color{themecolor} \textbf{#1}}}

% command to create a divider
\newcommand{\dividerline}{{\color{gray!10} \rule[4pt] {\textwidth}{3pt}}}

% command to add a cover
\newcommand{\cover}[4]{
\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
\fill[themecolor] (0, 5.5in) rectangle ++ (8.5in, 5.5in); % header bar
\fill[black!5] (0, 4in) rectangle ++ (8.5in, 1.5in); % middle bar
\fill[white] (0, 0in) rectangle ++ (8.5in, 4in); % footer bar
\node[anchor=west] at (1.5in, 6.25in) {\color{white} \fontsize{60}{60}\selectfont \begin{minipage}{5.5in} \textbf{Codebook} \fontsize{15}{15}\selectfont \hspace{5pt} v #2 \end{minipage}};
\node[anchor=west, align=left] at (1.5in, 4.75in) {\begin{minipage}{5.5in} \color{black!40} \fontsize{#4}{#4} \selectfont #1 \end{minipage}};
\node[anchor=west, align=left, minimum height=2in] at (1.5in, 2.55in) {\begin{minipage}[t][2in]{5.5in} \color{black!40} \fontsize{10}{10} \selectfont #3 \end{minipage}};
\end{tikzpicture}
}

% command to add a header page
\newcommand{\headerpage}[4]{
	\newpage
	\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
		\fill[themecolor] (0, 9in) rectangle ++ (8.5in, 2in); % header line 1
		\fill[black!5] (0, 8in) rectangle ++ (8.5in, 1in); % header line 2
		\node[anchor = west] at (1.5in, 9.6in) {\color{white} \fontsize{#3}{#3}\selectfont \textbf{#1}}; % heading
		\node[anchor = west] at (1.5in, 8.5in) {\color{black!40} \fontsize{#4}{#4}\selectfont #2}; % heading
	\end{tikzpicture}
	\phantomsection
	\addcontentsline{toc}{section}{#1}
	\vspace{1.5in}
}

% command to layout page
\newcommand\pagelayout{
	\begin{tikzpicture}[remember picture,overlay, shift={(current page.south west)}]
		% \fill[themecolor] (0, 10.75in) rectangle ++ (8.5in, 0.25in); % header
		\fill[black!5] (0, 0) rectangle ++ (8.5in, 0.5in); % footer
		\draw (0.25in, 0.25in) node[anchor = west] {\fontsize{9}{9}\selectfont \color{black!40} The EvoEU Database Codebook \hspace{5pt} | \hspace{5pt} Joshua C. Fjelstul, Ph.D.}; % footer content
		\draw (8.25in, 0.25in) node[anchor = east] {\fontsize{9}{9}\selectfont \color{black!40} \thepage}; % page number
	\end{tikzpicture}
}

% add page layout 
\AtBeginShipout{
	\AtBeginShipoutUpperLeft{\pagelayout}
}

% command to add a subheading
\newcommand{\subheading}[1]{
\vspace{24pt}
{\color{themecolor} \fontsize{14}{14}\selectfont \textbf{#1}}
\vspace{6pt}
\dividerline
\vspace{-20pt}
}

%--------------------------------------------------%
% start document
%--------------------------------------------------%

\begin{document}

\clearpage
\pagestyle{empty}

\color{black!75}

\small

\begin{flushleft}

%--------------------------------------------------%
% cover
%--------------------------------------------------%

\cover{The Evolution of European Union Law \\ (EvoEU) Database}{1.0}{Joshua C. Fjelstul, Ph.D.}{16}

\newpage

%--------------------------------------------------%
% table of contents
%--------------------------------------------------%

% reset page counter
\setcounter{page}{1}

% format the table of contents header
% \renewcommand\contentsname{{\color{themecolor} \fontsize{14}{14}\selectfont Datasets}}
\renewcommand\contentsname{\subheading{Datasets} \vspace{0pt}}

% add the table of contents
\tableofcontents

% remove page number from table of contents pages
\addtocontents{toc}{\protect\thispagestyle{empty}}

\newpage

%--------------------------------------------------%
% content
%--------------------------------------------------%


%--------------------------------------------------%
% dataset
%--------------------------------------------------%

\headerpage{nodes}{Data on documents in the acquis communautaire}{30}{10}

\subheading{Description}

This dataset includes one one observation per node in the network of European Union legal documents. Each node is a document. This network includes primary law (i.e., treaty articles), secondary law (i.e., legislation), and case law (i.e., court cases). The dataset indicates the CELEX number of each document, which is a unique ID number assigned by EUR-Lex, the date of the document, the author of the document, and the type of the document. The dataset includes the following types of documents: treaty articles, directives, regulations, decisions, Court of Justice judgments, advocate general opinions, General Court judgments, national implementing measures (i.e., national legislation that member states enact to transpose EU directives), and national court decisions that apply EU law.

\subheading{Variables}

\begin{description}[labelwidth=130pt, leftmargin=\dimexpr\labelwidth+\labelsep\relax, font=\normalfont, itemsep=10pt]
\item[\code{key\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies each observation. Indicates the default sorting order.
\item[\code{celex}] \code{string}\hspace{5pt}The CELEX number for the document.
\item[\code{node\_type\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies the type of the outgoing node.
\item[\code{node\_type}] \code{string}\hspace{5pt}The type of the node. Possible values include: \code{Treaty articles}, \code{Directives}, \code{Regulations}. \code{Decisions}, \code{Court of Justice judgments}, \code{Advocate general opinions}, \code{General Court judgments}, \code{National implementing measures}, and \code{National court decisions}.
\item[\code{author}] \code{string}\hspace{5pt}The author of the document. If there are multiple authors, they are listed, separated by a comma.
\item[\code{date}] \code{date}\hspace{5pt}The date of the document in a \code{YYYY-MM-DD} format. Coded \code{NA} for national implementing measures.
\item[\code{year}] \code{numeric}\hspace{5pt}The year of the document. Coded \code{NA} for national implementing measures.
\item[\code{month}] \code{numeric}\hspace{5pt}The month of the document. Coded \code{NA} for national implementing measures.
\item[\code{day}] \code{numeric}\hspace{5pt}The day of the document. Coded \code{NA} for national implementing measures.
\end{description}
%--------------------------------------------------%
% dataset
%--------------------------------------------------%

\headerpage{edges}{Data on links between documents in the acquis communautaire }{30}{10}

\subheading{Description}

This dataset includes on observation per edges in the network of European Union legal documents. An edge is a connection between two documents, created by the newer of the two documents. The dataset tracks the following types of connections: "cites all or part of" (most types of documents), "changes text in clause of" (secondary laws), "replaces clause of" (secondary laws), "adds text to clause of" (secondary laws), "inserts new clause in" (secondary laws), "repeals all or part of" (secondary laws), "has legal basis in" (secondary laws), "interprets all or part of" (references for a preliminary ruling), "answers question referred by" (references for a preliminary ruling), "determines compliance with" (actions for failure to fulfill obligations), "upholds all or part of" (case law), "overturns all or part of" (case law), and "transposes all or part of" (national implementing measures). 

\subheading{Variables}

\begin{description}[labelwidth=130pt, leftmargin=\dimexpr\labelwidth+\labelsep\relax, font=\normalfont, itemsep=10pt]
\item[\code{key\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies each observation. Indicates the default sorting order.
\item[\code{outgoing\_celex}] \code{string}\hspace{5pt}The CELEX number of the outgoing document (the document that creates the edge).
\item[\code{outgoing\_node\_type\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies the type of the outgoing node.
\item[\code{outgoing\_node\_type}] \code{string}\hspace{5pt}The type of the outgoing node (the document that creates the edge). Possible values include: \code{Treaty articles}, \code{Directives}, \code{Regulations}. \code{Decisions}, \code{Court of Justice judgments}, \code{Advocate general opinions}, \code{General Court judgments}, \code{National implementing measures}, and \code{National court decisions}.
\item[\code{edge\_type\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies the type of the edge.
\item[\code{edge\_type}] \code{string}\hspace{5pt}The type of the edge. Possible values include: \code{Cites all or part of}, \code{Changes text in clause of}, \code{Replaces clause of}, \code{Adds text to clause of}, \code{Inserts new clause in}, \code{Repeals all or part of}, \code{Has legal basis in}, \code{Interprets all or part of}, \code{Answers question referred by}, \code{Determines compliance with}, \code{Upholds all or part of}, \code{Overturns all or part of}, and\code{Transposes all or part of}.
\item[\code{incoming\_celex}] \code{string}\hspace{5pt}The CELEX number of the incoming document (the document that the edge leads to). 
\item[\code{incoming\_node\_type\_id}] \code{numeric}\hspace{5pt}An ID number that uniquely identifies the type of the incoming node.
\item[\code{incoming\_node\_type}] \code{string}\hspace{5pt}The type of the incoming node (the document that the edge leads to). Possible values include: \code{Treaty articles}, \code{Directives}, \code{Regulations}. \code{Decisions}, \code{Court of Justice judgments}, \code{Advocate general opinions}, \code{General Court judgments}, \code{National implementing measures}, and \code{National court decisions}.
\end{description}

%--------------------------------------------------%
% end document
%--------------------------------------------------%

\end{flushleft}

\end{document}
